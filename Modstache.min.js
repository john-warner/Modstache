var _M_=Modstache=function(){"use strict";var e={version:"1.0.1"},t={removeStache:!1,escape:!0,translate:null,alwaysSetTranslatedProperty:!1,reactive:!0,stache:"{}",events:{oninit:null,onremoved:null,onupdated:null}};const n="slot",r="{if}",l="{root}",o="{oninit}",a="{template}";function i(e,t,n,r,l,o){var a,i={base:l||e,root:e,parent:t,propertyName:"",descriptor:null,array:r,parentContext:o};let s=!1;return n.split(".").forEach(e=>{s||(i.propertyName=e,void 0!==a?(i.parent=a,a=a[e]):(i.parent=t,a=t[e]),void 0===a&&(s=!0))}),s?null:(i.descriptor=Object.getOwnPropertyDescriptor(i.parent,i.propertyName),i)}function s(e){let n=Object.assign({},t);return e.events=Object.assign({},t.events),Object.assign(n,e)}const p=e=>"function"==typeof e,u=(e,t,n)=>({element:e,root:t.root,parent:t.parent,key:t.propertyName,array:t.array,events:n.events,base:t.base,previous:t.parentContext}),c=e=>e.stache.replace("{","\\{").replace("}","\\}");function f(e,n,r=t){if(r=s(r),e=p(e)?e():e,-1===["string","number"].indexOf(typeof e))throw"Please provide a valid template";return n?e=e.replace(/\{\{([^}]+)\}\}/g,(function(e){e=e.slice(2,-2);var t,l=function(e,t){var n;let r=!1;return t.split(".").forEach(t=>{r||void 0===(n=void 0!==n?n[t]:e[t])&&(r=!0)}),n}(n,e);return void 0===l?"{{"+e+"}}":("function"==typeof l&&(l=l()),r.escape?"string"==typeof(t=l)?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):"":l)})):e}function m(e,r,l=t,o=null,f=null,m=null){l=s(l);let g=c(l);var y=[...e.querySelectorAll("["+g+"]")];let E=l.translate,M=[],P=e instanceof DocumentFragment?null:e.getAttribute(l.stache);return f=f||r,P&&y.unshift(e),y.forEach(e=>{l=s(l);let t={removed:!1},g=!1;if(!M.includes(e)){e.getAttribute(l.stache).split(";").some(s=>{var y,P=s.split(":"),D=null,q=null;if(P.length>1?(D=P[0],y=P[1]):y=s,y.includes(">")){let e=y.split(">");q=e[0],y=e[1]}var B=null;if(y.startsWith("{base}.")?(y=y.replace("{base}.",""),B=i(r,f,y,o,f,m)):B=i(r,r,y,o,f,m),null!=B){var k=B.parent[B.propertyName];void 0!==k&&(D&&"{"===D[0]?h(D,e,k,B,l,M,t):(null==D&&E&&E.hasOwnProperty(y)&&(D=E[y]),null!==q?function(e,t,n,r,l,o){let a,i=[t];var s=u(t,l,o);Object.assign({},o);let c=p(l.parent[l.propertyName]);a=n in t?()=>{let e=t[n];c?l.parent[l.propertyName](e,s):l.parent[l.propertyName]=e}:()=>{let e=t.getAttribute(n);c?l.parent[l.propertyName](e,s):l.parent[l.propertyName]=e};t[e]=a}(D,e,q,0,B,l):M.push(function(e,t,r,l,o,s){var p=u(e,l,o),f=S(r,e,p);let m=[e],g=c(o);if(y=f,"[object Object]"===Object.prototype.toString.call(y))!function(e,t,n){let r=n.translate;for(var l in t){let p=l,c=!1;var o=i(t,t,l,null,null,null),a=u(e,o,n);let f=S(t[l],e,a);r&&r.hasOwnProperty(l)&&(p=r[l],c=!0);var s=i(e,e,p,null,null,null);null!==s?w(s,f,o,a,n):e.hasAttribute(p)?C(e,p,f,o,a,n):c&&n.alwaysSetTranslatedProperty&&(e[p]=f,w(s=i(e,e,p,null,null,null),f,o,a,n))}}(e,f,o);else if(Array.isArray(f))m.push(e.querySelectorAll("["+g+"]")),function(e,t,r,l,o,s,p){let u=e.cloneNode(!0),c=e.parentNode,f=[],m=new DocumentFragment;var g,y;let S=e.getAttribute(l.stache).split(";");for(let n=0;n<S.length;n++){let p=S[n].split(":");if(p.length>1&&p[0].length>1&&"{"===p[0][0])if(p[0]===a)y=p[1];else{let n=i(r.root,r.parent,p[1],t,r.base,r.parentContext);if(n){let t=n.parent[n.propertyName];h(p[0],e,t,n,l,o,s)}}}let C=r.base,w=function(e,t,n,r,l,o,a,i){return{template:e,templateSpecifier:t,parent:n,elements:r,models:l,options:o,base:a,previous:i,proxy:null,placeholder:null}}(u,y,c,f,t,l,C,p);l.reactive&&(r.parent[r.propertyName]=g=function(e){let t={push:b(e),unshift:N(e),splice:A(e),pop:O(e),shift:x(e)},n={get:function(e,n){const r=e[n];if("function"==typeof r)switch(n){case"push":return t.push;case"unshift":return t.unshift;case"splice":return t.splice;case"pop":return t.pop;case"shift":return t.shift;default:return r.bind(e)}return r},set:function(e,n,r,l){return isNaN(n)||t.splice(n,1,r),"length"===n&&e.length>r&&t.splice(r),e[n]=r,!0}};return new Proxy(e.models,n)}(w),w.proxy=g);t.forEach(e=>{let t=v(w,e);f.push(d(g,t,e,m,null,l,w.base,w.previous))}),c.insertBefore(m,e),0===f.length&&(w.placeholder=document.createElement(n),c.insertBefore(w.placeholder,e));c.removeChild(e)}(e,f,l,o,m,s,p),s.removed=!0;else{if(t)if(e.hasAttribute(t))C(e,t,f,l,p,o);else w(i(e,e,t,null,l.parentContext),f,l,p,o);else""===t?function(e,t,n,r){r.reactive&&j(t,t=>t=S(t,e,n))}(e,l,p,o):function(e,t,n,r,l){e.textContent=t,l.reactive&&j(n,t=>(t=S(t,e,r),e.textContent=t,t))}(e,f,l,p,o)}var y;return m}(e,D,k,B,l,t))))}else D&&"{"===D[0]&&(h(D,e,null,null,l,M,t),g=!0);return t.removed}),g||(l.removeStache&&e.removeAttribute(l.stache),l.events.oninit&&l.events.oninit(e))}}),e}function h(e,t,n,a,i,s,p){switch(e){case r:!function(e,t,n,r,l,o){S(t,e,u(e,n,r))||(!function(e,t,n){let r=c(n);var l=[...e.querySelectorAll("["+r+"]")];e.parentNode&&e.parentNode.removeChild(e);t.push(...l)}(e,l,r),o.removed=!0)}(t,n,a,i,s,p);break;case l:!function(e,t,n,r,l,o){let a=[...e.querySelectorAll("["+c(r)+"]")];if(null!==t){let l=S(t,e,u(e,n,r));[...e.children].forEach(e=>{m(e,l,r,null,n.base)})}l.push(...a)}(t,n,a,i,s);break;case o:!function(e,t,n,r,l,o){var a=u(e,n,r);r.events.oninit=e=>{t(a,e)}}(t,n,a,i);break}}function d(e,t,n,r,l,o,a,i){let s=t.cloneNode(!0);return s=m(s,n,o,e,a,i),l?r.insertBefore(s,l):r.appendChild(s),s}function v(e,t){let n=e.template,r=e.templateSpecifier;if(r){let e=i(t,t,r,null);if(e){let t=e.parent[e.propertyName];if(t instanceof DocumentFragment)return t}}return n}const g=(e,t,r)=>{if(isNaN(r))r=e.elements.length;else if(r<=0)return;let l=Math.min(t+r,e.elements.length);0===t&&l>0&&l===e.elements.length&&(e.placeholder=e.placeholder||document.createElement(n),e.parent.insertBefore(e.placeholder,e.elements[0]));for(let n=t;n<l;n++)e.parent.removeChild(e.elements[n]);e.elements.splice(t,r)},y=(e,t,n)=>{if(n.length>0){let r=0===e.elements.length?e.placeholder:t<e.elements.length?e.elements[t]:e.elements[e.elements.length-1].nextElementSibling,l=[],o=new DocumentFragment;n.forEach(t=>{let n=v(e,t);l.push(d(e.proxy,n,t,o,null,e.options,e.base,e.previous))}),r?e.parent.insertBefore(o,r):e.parent.appendChild(o),r&&r===e.placeholder&&e.parent.removeChild(r),e.elements.splice(t,0,...l)}},b=e=>function(...t){return y(e,e.models.length,t),e.models.push(...t)},N=e=>function(...t){return y(e,0,t),e.models.unshift(...t)},A=e=>function(t,n,...r){return t=t<0?Math.max(0,e.models.length-t):Math.min(t,e.models.length),g(e,t,n),y(e,t,r),e.models.splice(...arguments)},O=e=>function(){g(e,e.models.length-1,1);const t=e.models.pop(...arguments);return t},x=e=>function(){g(e,0,1);const t=e.models.shift(...arguments);return t};function S(e,t,n){return p(e)?e(n,t,n.parent):e}function C(e,t,n,r,l,o){e.setAttribute(t,n),o.reactive&&j(r,n=>(n=S(n,e,l),e.setAttribute(t,n),n))}function w(e,t,n,r,l){e.parent[e.propertyName]=t,l.reactive&&j(n,t=>(t=S(t,e.root,r),e.parent[e.propertyName]=t,t))}function j(e,t){let n=e.descriptor.set,r=e.descriptor.get,l=e.parent[e.propertyName],o={get:p(r)?r:()=>l,set:p(n)?e=>{l=e,t(e),n(e)}:e=>{l=e,t(e)},configurable:e.descriptor.configurable,enumerable:e.descriptor.enumerable};Object.defineProperty(e.parent,e.propertyName,o)}return e.fill=function(e,n,r=t){var l,o;return"string"==typeof e&&(l=f(e,n,r),(o=document.createElement("template")).innerHTML=l,e=o.content),m(e,n,r)},e.fillHTML=f,e.fillDOM=m,e.options=function(e){return t=s(e),Object.assign({},t)},e}();