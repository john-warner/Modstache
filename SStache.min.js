var $$tache=function(){"use strict";var e={version:"0.9.4"},t={removeStache:!1,escape:!0,translate:null,alwaysSetTranslatedProperty:!1,reactive:!0,stache:"{}",events:{oninit:null,onremoved:null,onupdated:null}};const n="slot",r={if:"{if}",oninit:"{oninit}",template:"{template}"};function l(e,t,n,r){var l,o={root:e,parent:t,propertyName:"",descriptor:null,array:r};let i=!1;return n.split(".").forEach(e=>{i||(o.propertyName=e,void 0!==l?(o.parent=l,l=l[e]):(o.parent=t,l=t[e]),void 0===l&&(i=!0))}),i?null:(o.descriptor=Object.getOwnPropertyDescriptor(o.parent,o.propertyName),o)}function o(e){let n=Object.assign({},t);return e.events=Object.assign({},t.events),Object.assign(n,e)}const i=e=>{var t=document.createElement("template");return t.innerHTML=e,t.content},a=e=>"[object Object]"===Object.prototype.toString.call(e),p=e=>"function"==typeof e,s=(e,t,n)=>({element:e,root:t.root,parent:t.parent,key:t.propertyName,array:t.array,events:n.events}),c=e=>e.stache.replace("{","\\{").replace("}","\\}");function u(e,n,r=t){if(r=o(r),e=p(e)?e():e,-1===["string","number"].indexOf(typeof e))throw"Please provide a valid template";return n?e=e.replace(/\{\{([^}]+)\}\}/g,function(e){e=e.slice(2,-2);var t,l=function(e,t){var n;let r=!1;return t.split(".").forEach(t=>{r||void 0===(n=void 0!==n?n[t]:e[t])&&(r=!0)}),n}(n,e);return void 0===l?"{{"+e+"}}":("function"==typeof l&&(l=l()),r.escape?"string"==typeof(t=l)?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):"":l)}):e}function f(e,i,u=t,f=null){u=o(u);let v=c(u);var g=[...e.querySelectorAll("["+v+"]")];let E=u.translate,C=[];return(e instanceof DocumentFragment?null:e.getAttribute(u.stache))&&g.unshift(e),g.forEach(e=>{u=o(u);let t={removed:!1};if(!C.includes(e)){e.getAttribute(u.stache).split(";").some(o=>{var v,g=o.split(":"),P=null,D=null;if(g.length>1?(P=g[0],v=g[1]):v=o,v.includes(">")){let e=v.split(">");D=e[0],v=e[1]}var M=l(i,i,v,f);if(null!=M){var B=M.parent[M.propertyName];void 0!==B&&(P&&"{"===P[0]?m(P,e,B,M,u,C,t):(null==P&&E&&E.hasOwnProperty(v)&&(P=E[v]),null!==D?function(e,t,n,r,l,o){let i,a=[t];var c=s(t,l,o);Object.assign({},o);let u=p(l.parent[l.propertyName]);i=n in t?()=>{let e=t[n];u?l.parent[l.propertyName](e,c):l.parent[l.propertyName]=e}:()=>{let e=t.getAttribute(n);u?l.parent[l.propertyName](e,c):l.parent[l.propertyName]=e};t[e]=i}(P,e,D,0,M,u):C.push(function(e,t,o,i,p,u){var f=s(e,i,p),v=S(o,e,f);let g=[e],E=c(p);if(a(v))!function(e,t,n){let r=n.translate;for(var o in t){let c=o,u=!1;var i=l(t,t,o),a=s(e,i,n);let f=S(t[o],e,a);r&&r.hasOwnProperty(o)&&(c=r[o],u=!0);var p=l(e,e,c,null);null!==p?j(p,f,i,a,n):e.hasAttribute(c)?w(e,c,f,i,a,n):u&&n.alwaysSetTranslatedProperty&&(e[c]=f,j(p=l(e,e,c,null),f,i,a,n))}}(e,v,p);else if(Array.isArray(v))g.push(e.querySelectorAll("["+E+"]")),function(e,t,o,i,a,p){let s=e.cloneNode(!0),c=e.parentNode,u=[],f=new DocumentFragment;var v,g;let S=e.getAttribute(i.stache).split(";");for(let n=0;n<S.length;n++){let s=S[n],c=s.split(":");if(c.length>1&&c[0].length>1&&"{"===c[0][0])if(c[0]===r.template)g=c[1];else{let n=l(o.root,o.parent,c[1],t);if(n){let t=n.parent[n.propertyName];m(c[0],e,t,n,i,a,p)}}}let w=function(e,t,n,r,l,o){return{template:e,templateSpecifier:t,parent:n,elements:r,models:l,options:o,proxy:null,placeholder:null}}(s,g,c,u,t,i);i.reactive&&(o.parent[o.propertyName]=v=function(e){let t={push:y(e),unshift:b(e),splice:N(e),pop:A(e),shift:O(e)},n={get:function(e,n){const r=e[n];if("function"==typeof r)switch(n){case"push":return t.push;case"unshift":return t.unshift;case"splice":return t.splice;case"pop":return t.pop;case"shift":return t.shift;default:return r.bind(e)}return r},set:function(e,n,r,l){return isNaN(n)||t.splice(n,1,r),"length"===n&&e.length>r&&t.splice(r),e[n]=r,!0}};return new Proxy(e.models,n)}(w),w.proxy=v);t.forEach(e=>{let t=d(w,e);u.push(h(v,t,e,f,null,i))}),c.insertBefore(f,e),0===u.length&&(w.placeholder=document.createElement(n),c.insertBefore(w.placeholder,e));c.removeChild(e)}(e,v,i,p,g,u);else if(t)if(e.hasAttribute(t))w(e,t,v,i,f,p);else{var C=l(e,e,t,null);j(C,v,i,f,p)}else""===t?function(e,t,n,r){r.reactive&&x(t,t=>t=S(t,e,n))}(e,i,f,p):function(e,t,n,r,l){e.textContent=t,l.reactive&&x(n,t=>(t=S(t,e,r),e.textContent=t,t))}(e,v,i,f,p);return g}(e,P,B,M,u,t))))}return t.removed}),u.removeStache&&e.removeAttribute(u.stache),u.events.oninit&&u.events.oninit(e)}}),e}function m(e,t,n,l,o,i,a){switch(e){case r.if:!function(e,t,n,r,l,o){S(t,e,s(e,n,r))||(!function(e,t,n){let r=c(n);var l=[...e.querySelectorAll("["+r+"]")];e.parentNode&&e.parentNode.removeChild(e);t.push(...l)}(e,l,r),o.removed=!0)}(t,n,l,o,i,a);break;case r.oninit:!function(e,t,n,r,l,o){var i=s(e,n,r);r.events.oninit=(e=>{t(i,e)})}(t,n,l,o)}}function h(e,t,n,r,l,o){let i=t.cloneNode(!0);return i=f(i,n,o,e),l?r.insertBefore(i,l):r.appendChild(i),i}function d(e,t){let n=e.template,r=e.templateSpecifier;if(r){let e=l(t,t,r,null);if(e){let t=e.parent[e.propertyName];if(t instanceof DocumentFragment)return t}}return n}const v=(e,t,r)=>{if(isNaN(r))r=e.elements.length;else if(r<=0)return;let l=Math.min(t+r,e.elements.length);0===t&&l>0&&l===e.elements.length&&(e.placeholder=e.placeholder||document.createElement(n),e.parent.insertBefore(e.placeholder,e.elements[0]));for(let n=t;n<l;n++)e.parent.removeChild(e.elements[n]);e.elements.splice(t,r)},g=(e,t,n)=>{if(n.length>0){let r=0===e.elements.length?e.placeholder:t<e.elements.length?e.elements[t]:e.elements[e.elements.length-1].nextElementSibling,l=[],o=new DocumentFragment;n.forEach(t=>{let n=d(e,t);l.push(h(e.proxy,n,t,o,null,e.options))}),r?e.parent.insertBefore(o,r):e.parent.appendChild(o),r&&r===e.placeholder&&e.parent.removeChild(r),e.elements.splice(t,0,...l)}},y=e=>(function(...t){return g(e,e.models.length,t),e.models.push(...t)}),b=e=>(function(...t){return g(e,0,t),e.models.unshift(...t)}),N=e=>(function(t,n,...r){return t=t<0?Math.max(0,e.models.length-t):Math.min(t,e.models.length),v(e,t,n),g(e,t,r),e.models.splice(...arguments)}),A=e=>(function(){return v(e,e.models.length-1,1),e.models.pop(...arguments)}),O=e=>(function(){return v(e,0,1),e.models.shift(...arguments)});function S(e,t,n){return p(e)?e(n,t,n.parent):e}function w(e,t,n,r,l,o){e.setAttribute(t,n),o.reactive&&x(r,n=>(n=S(n,e,l),e.setAttribute(t,n),n))}function j(e,t,n,r,l){e.parent[e.propertyName]=t,l.reactive&&x(n,t=>(t=S(t,e.root,r),e.parent[e.propertyName]=t,t))}function x(e,t){let n=e.descriptor.set,r=e.descriptor.get,l=e.parent[e.propertyName],o={get:p(r)?r:()=>l,set:p(n)?e=>{l=e,t(e),n(e)}:e=>{l=e,t(e)},configurable:e.descriptor.configurable,enumerable:e.descriptor.enumerable};Object.defineProperty(e.parent,e.propertyName,o)}return e.fill=function(e,n,r=t){return"string"==typeof e&&(e=i(u(e,n,r))),f(e,n,r)},e.fillHTML=u,e.fillDOM=f,e.options=function(e){return t=o(e),Object.assign({},t)},e}();